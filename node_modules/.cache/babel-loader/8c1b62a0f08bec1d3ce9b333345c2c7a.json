{"ast":null,"code":"import _classCallCheck from\"/Users/kareemhelal/Documents/Work/foody-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kareemhelal/Documents/Work/foody-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kareemhelal/Documents/Work/foody-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kareemhelal/Documents/Work/foody-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import moment from'moment';import Card from'@material-ui/core/Card';import CardActions from'@material-ui/core/CardActions';import CardContent from'@material-ui/core/CardContent';import CardMedia from'@material-ui/core/CardMedia';import Typography from'@material-ui/core/Typography';import Button from'@material-ui/core/Button';import Grid from'@material-ui/core/Grid';import Add from'@material-ui/icons/Add';import Remove from'@material-ui/icons/Remove';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.addDish=function(dishId){if(moment().utcOffset('-0500')<moment().utcOffset('-0500').startOf('day').hour('19').minute('15')){if(_this.state.scheduledDishes.length<3){var scheduledDishes=_this.state.scheduledDishes;scheduledDishes.push(dishId);_this.setState(scheduledDishes);alert('Dish scheduled successfuly');}else{alert('You cant schedule more than 3 dishes.');}}else{alert('You cant schedule after 7:15');}};_this.removeDish=function(dishId){var scheduledDishes=_this.state.scheduledDishes;if(scheduledDishes.filter(function(dish){return dishId===dish;})){var index=scheduledDishes.indexOf(dishId);if(index>-1){scheduledDishes.splice(index,1);_this.setState(scheduledDishes);}}};_this.getAmountOfDishes=function(dishId){var scheduledDishes=_this.state.scheduledDishes;return scheduledDishes.filter(function(id){return id===dishId;}).length;};_this.state={userAvailableDishes:3,dishes:[],scheduledDishes:[]};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(moment().utcOffset('-0500').hours()<7);fetch('https://testapi.io/api/sajhu/dishes').then(function(res){return res.json();}).then(function(data){_this2.setState({dishes:data});});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(Grid,{container:true},this.state.dishes.map(function(dish){return/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:3,key:dish._id},/*#__PURE__*/React.createElement(Card,{style:{maxWidth:300}},/*#__PURE__*/React.createElement(CardMedia,{image:dish.photoUrl,title:dish.name,style:{height:140}}),/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,variant:\"h5\",component:\"h2\"},dish.name),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",color:\"textSecondary\",component:\"p\"},dish.shortDescription)),/*#__PURE__*/React.createElement(CardActions,null,/*#__PURE__*/React.createElement(Button,{size:\"small\",color:\"primary\",onClick:function onClick(){return _this3.removeDish(dish._id);}},/*#__PURE__*/React.createElement(Remove,null)),/*#__PURE__*/React.createElement(\"span\",null,_this3.getAmountOfDishes(dish._id)),/*#__PURE__*/React.createElement(Button,{size:\"small\",color:\"primary\",onClick:function onClick(){return _this3.addDish(dish._id);}},/*#__PURE__*/React.createElement(Add,null)))));}));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/kareemhelal/Documents/Work/foody-test/src/App.js"],"names":["React","moment","Card","CardActions","CardContent","CardMedia","Typography","Button","Grid","Add","Remove","App","props","addDish","dishId","utcOffset","startOf","hour","minute","state","scheduledDishes","length","push","setState","alert","removeDish","filter","dish","index","indexOf","splice","getAmountOfDishes","id","userAvailableDishes","dishes","console","log","hours","fetch","then","res","json","data","map","_id","maxWidth","photoUrl","name","height","shortDescription","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Add from '@material-ui/icons/Add';\nimport Remove from '@material-ui/icons/Remove';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { \n      userAvailableDishes: 3,\n      dishes: [],\n      scheduledDishes: []\n    };\n  }\n\n  componentDidMount() {\n    console.log(moment().utcOffset('-0500').hours() < 7);\n\n    fetch('https://testapi.io/api/sajhu/dishes')\n        .then( res => res.json())\n        .then((data)=> {\n            this.setState({\n                dishes: data\n            });\n        })\n  }  \n\n  addDish = (dishId) => {\n    if (moment().utcOffset('-0500') < moment().utcOffset('-0500').startOf('day').hour('19').minute('15')) {\n      if(this.state.scheduledDishes.length < 3) {\n        let scheduledDishes = this.state.scheduledDishes;\n        scheduledDishes.push(dishId);\n        this.setState(scheduledDishes);\n        alert('Dish scheduled successfuly');\n      } else {\n        alert('You cant schedule more than 3 dishes.')\n      }\n    } else {\n      alert('You cant schedule after 7:15')\n    }\n  }\n\n  removeDish = (dishId) => {\n    let scheduledDishes = this.state.scheduledDishes;\n    if( scheduledDishes.filter(dish => dishId === dish)) {\n      const index = scheduledDishes.indexOf(dishId);\n      if (index > -1) {\n      scheduledDishes.splice(index, 1);\n      this.setState(scheduledDishes);\n    }\n  }\n}\n\n  getAmountOfDishes = (dishId) => {\n    const scheduledDishes = this.state.scheduledDishes;\n    return scheduledDishes.filter(id => id === dishId).length;\n  }\n\n\n  render() {\n    return (\n      <Grid container>\n        {this.state.dishes.map(dish => (\n        <Grid item xs={12} sm={3} key={dish._id}>\n            <Card style={{maxWidth: 300}}>\n              <CardMedia\n                image={dish.photoUrl}\n                title={dish.name}\n                style={{height: 140}}\n              />\n              <CardContent>\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                  {dish.name}\n                </Typography>\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                  {dish.shortDescription}\n                </Typography>\n              </CardContent>\n              <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.removeDish(dish._id)}>\n                  <Remove />\n                </Button>\n                <span>{this.getAmountOfDishes(dish._id)}</span>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.addDish(dish._id)}>\n                  <Add />\n                </Button>\n              </CardActions>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}